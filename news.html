<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>아진산업 — 뉴스</title>

    <!-- Icons -->
    <link rel="icon" href="https://ajinusa.com/wp-content/uploads/2023/10/AJIN_favicon-150x150.png" sizes="32x32" />
    <link rel="icon" href="https://ajinusa.com/wp-content/uploads/2023/10/AJIN_favicon-300x300.png" sizes="192x192" />
    <link rel="apple-touch-icon" href="https://ajinusa.com/wp-content/uploads/2023/10/AJIN_favicon-300x300.png" />
    <meta name="msapplication-TileImage" content="https://ajinusa.com/wp-content/uploads/2023/10/AJIN_favicon-300x300.png" />

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet" />

    <style>
      :root {
        --bg-0: #0b0f14;
        --bg-1: #0f1720;
        --bg-2: #121a23;
        --bg-3: #0d141c;
        --text-0: #e6edf3;
        --text-1: #b6c2cf;
        --brand: #6aa9ff;
        --muted: #233041;
        --radius: 16px;
        --shadow: 0 12px 30px rgba(0,0,0,.45);
        --maxw: 1200px;
      }

      * { box-sizing: border-box; }
      html, body { height: 100%; }
      body {
        margin: 0;
        font-family: Roboto, system-ui, -apple-system, Segoe UI, Helvetica, Arial, sans-serif;
        color: var(--text-0);
        background: var(--bg-0);
      }
      a { color: inherit; text-decoration: none; }
      img { max-width: 100%; height: auto; display: block; }
      .container { width: 100%; max-width: var(--maxw); margin: 0 auto; padding: 0 20px; }

      /* Header / Nav */
      .navbar {
        position: sticky; top: 0; z-index: 50;
        background: linear-gradient(180deg, var(--bg-3), rgba(13,20,28,.6) 60%, rgba(13,20,28,0) 100%);
        border-bottom: 1px solid rgba(255,255,255,.04);
        backdrop-filter: saturate(120%) blur(6px);
      }
      .nav-inner { display: flex; align-items: center; justify-content: space-between; padding: 14px 0; }
      .brand img { height: 80px; width: auto; }
      .nav-menu { display: flex; align-items: center; gap: 22px; }
      .nav-menu > li { list-style: none; position: relative; }
      .nav-menu a { color: #fff; font-weight: 500; padding: 10px 0; display: inline-block; } /* 1뎁스 흰색 */
      .nav-menu a.active, .nav-menu a:hover { color: var(--brand); }
      .has-sub > a::after { content: "▾"; font-size: 10px; margin-left: 6px; opacity: .9; color:#fff; }
      .dropdown {
        display: none; position: absolute; top: 100%; right: 0; min-width: 220px;
        background: var(--bg-2); border: 1px solid var(--muted); border-radius: 12px;
        box-shadow: var(--shadow); padding: 10px 8px 8px; z-index: 10;
      }
      .dropdown a { display: block; padding: 10px 12px; border-radius: 8px; color: #dbe4ff; transition: background-color .15s ease, color .15s ease, padding-left .15s ease; }
      .dropdown a:hover, .dropdown a:focus, .dropdown a:focus-visible { background: #F96D00 !important; color: #fff !important; padding-left: 1.25rem; outline: none; }
      .dropdown a:active { background:#e85f00 !important; color:#fff !important; }
      .has-sub:hover .dropdown, .has-sub:focus-within .dropdown, .has-sub.open .dropdown { display: block; }
      .has-sub.open > a, .has-sub:hover > a, .has-sub:focus-within > a { color: #F96D00 !important; }
      .has-sub.open > a::after, .has-sub:hover > a::after { color: #F96D00; }

      .burger { display:none; width: 44px; height: 44px; border:1px solid #1f2a37; background: #0e1620; color:#9fb2c7; border-radius: 10px; }

      @media (max-width: 960px){
        .nav-menu { display: none; }
        .burger { display: inline-grid; place-items:center; }
        .mobile-menu { display: none; padding-bottom: 10px; }
        .mobile-menu.open { display: block; }
        .mobile-menu a { display:block; padding: 12px 0; border-bottom: 1px solid #1c2836; color: var(--text-1); }
        .mobile-menu a.active, .mobile-menu a:hover { color: var(--brand); }
      }

      /* Hero */
      .hero {
        padding: 64px 0 24px;
        background: radial-gradient(1200px 500px at 50% -10%, rgba(107,114,128,.2), transparent 60%),
                    linear-gradient(180deg, var(--bg-1) 0%, var(--bg-0) 100%);
        text-align: center;
      }
      .hero h1 { margin: 0 0 10px; font-size: 90px; letter-spacing: .2px; }
      .hero p { margin: 0; color: var(--text-1); }

      /* Controls */
      .controls { padding: 24px 0 0; }
      .controls .row { display:flex; gap: 12px; flex-wrap: wrap; justify-content: flex-end; }
      .control, .btn { height: 46px; border-radius: 12px; border: 1px solid #1f2a37; background: #0e1620; color: var(--text-0); padding: 0 12px; }
      .btn { color: var(--brand); cursor: pointer; }
      .btn:hover { background: var(--brand); color: #0b1320; border-color: var(--brand); }
      .spacer { height: 8px; }

      /* News list */
      .news-list { padding: 24px 0 64px; }
      .card {
        display: grid; grid-template-columns: 34% 1fr; gap: 18px;
        background: var(--bg-2); border: 1px solid var(--muted);
        border-radius: var(--radius); overflow: hidden; box-shadow: var(--shadow);
        transition: transform .2s ease, border-color .2s ease, box-shadow .2s ease;
      }
      .card:hover { transform: translateY(-3px); border-color: rgba(106,169,255,.5); box-shadow: 0 16px 40px rgba(0,0,0,.55); }
      .thumb-wrap { position: relative; width: 100%; }
      .thumb-ratio { width: 100%; aspect-ratio: 16 / 9; background: #0f1720; }
      .thumb-img { position: absolute; inset: 0; width: 100%; height: 100%; object-fit: cover; display: block; }
      .content { padding: 18px; display:flex; flex-direction: column; gap: 10px; }
      .kicker { text-transform: uppercase; letter-spacing: .18em; font-size: 12px; color: #8da2b5; }
      .title { font-size: 22px; line-height: 1.25; margin: 0; }
      .title a { color: var(--text-0); }
      .title a:hover { color: var(--brand); }
      .excerpt { color: var(--text-1); line-height: 1.55; }
      .meta { display:flex; align-items:center; gap: 12px; color: var(--text-1); font-size: 14px; }
      .date-chip { display:inline-block; padding:.25rem .6rem; background:#16212c; border:1px solid #233042; border-radius:999px; }

      .list { display: grid; gap: 16px; }
      @media (max-width: 960px){ .card { grid-template-columns: 1fr; } }

      /* Footer */
      footer { border-top: 1px solid var(--muted); background: linear-gradient(180deg, var(--bg-1), var(--bg-0)); padding: 40px 0; }
      footer .cols { display: grid; gap: 16px; grid-template-columns: auto 1fr auto; align-items: center; }
      footer .brand img { height: 80px; width: auto; }
      .footer-center { text-align: center; }
      footer .small { color: var(--text-1); font-size: 14px; }
      .familysite { margin-top: 0; justify-self: end; max-width: 280px; }
      .familysite select {
        width: 100%; height: 40px; background: #0e1620; border: 1px solid #1f2a37; border-radius: 10px; color: var(--text-0); padding: 0 12px;
      }
      .familysite label { position: absolute; width:1px; height:1px; overflow:hidden; clip: rect(1px,1px,1px,1px); white-space: nowrap; }

      @media (max-width: 720px){
        footer .cols { grid-template-columns: 1fr; justify-items: center; }
        .familysite { justify-self: center; width: 100%; max-width: 320px; }
        .footer-center { text-align: center; }
      }

      /* 메인 헤더와 동일 좌우 여백/로고 사이즈 */
      header.navbar .container { max-width: 100%; padding-left: 24px; padding-right: 24px; }
      header.navbar .brand img { max-width: 200px; height: auto; }
      header.navbar .nav-inner { display: flex; align-items: center; justify-content: space-between; }
      @media (max-width: 960px){ header.navbar .container { padding-left:24px; padding-right:24px; } }
    </style>
  </head>

  <body>
    <!-- NAVBAR -->
    <header class="navbar">
      <div class="container nav-inner">
        <a class="brand" href="index3.html" aria-label="홈으로 이동">
          <img src="images/AJIN_logo_black_background.png" alt="AJIN" />
        </a>

        <ul class="nav-menu" aria-label="Primary">
          <li><a href="index3.html">홈</a></li>

          <li class="has-sub">
            <a href="index.html#about-section" aria-expanded="false">기업정보</a>
            <div class="dropdown" role="menu" aria-label="기업정보 하위메뉴">
              <a href="index.html#about-section">회사 개요</a>
              <a href="index.html#about-section">CEO 메세지</a>
              <a href="index.html#about-section">연혁</a>
              <a href="index.html#about-section">비전/가치</a>
              <a href="index.html#contact-section">조직구성</a>
              <a href="index.html#contact-section">오시는 길</a>
            </div>
          </li>

          <li class="has-sub">
            <a href="index.html#services-section" aria-expanded="false">사업분야</a>
            <div class="dropdown" role="menu" aria-label="사업분야 하위메뉴">
              <a href="index.html#services-section">차체</a>
              <a href="index.html#services-section">전장</a>
            </div>
          </li>

          <li class="has-sub">
            <a href="index.html#skills-section" aria-expanded="false">기술력</a>
            <div class="dropdown" role="menu" aria-label="기술력 하위메뉴">
              <a href="index.html#skills-section">연구소 현황</a>
              <a href="index.html#skills-section">연구개발 분야</a>
              <a href="index.html#skills-section">연구설비</a>
              <a href="index.html#skills-section">연구실적</a>
            </div>
          </li>

          <li class="has-sub">
            <a href="index.html#projects-section" aria-expanded="false">주요실적</a>
            <div class="dropdown" role="menu" aria-label="주요실적 하위메뉴">
              <a href="index.html#projects-section">인재상</a>
              <a href="index.html#projects-section">인사제도</a>
              <a href="index.html#projects-section">채용정보</a>
            </div>
          </li>

          <li class="has-sub">
            <!-- FIXED: href 속성 표기 -->
            <a href="index.html#blog-section" aria-expanded="false">ESG경영</a>
            <div class="dropdown" role="menu" aria-label="ESG 하위메뉴">
              <a href="index.html#blog-section">윤리헌장</a>
              <a href="index.html#blog-section">인권헌장</a>
              <a href="index.html#blog-section">환경경영정책</a>
              <a href="index.html#blog-section">보고서</a>
            </div>
          </li>

          <li class="has-sub">
            <a href="index.html#blog-section" aria-expanded="false">홍보센터</a>
            <div class="dropdown" role="menu" aria-label="홍보센터 하위메뉴">
              <a href="news.html" class="active">뉴스</a>
              <a href="index.html#blog-section">인증서 및 수상현황</a>
              <a href="index.html#blog-section">기업문화</a>
              <a href="index.html#blog-section">C.I</a>
              <a href="index.html#blog-section">홍보영상</a>
            </div>
          </li>

          <li class="has-sub">
            <a href="index.html#contact-section" aria-expanded="false">생산관리시스템</a>
            <div class="dropdown" role="menu" aria-label="생산관리시스템 하위메뉴">
              <a href="https://www.ajin-industry.kr/#/login" target="_blank" rel="noopener noreferrer">대시보드</a>
            </div>
          </li>

        </ul>

        <button class="burger" id="burger" aria-label="Open menu" aria-expanded="false">☰</button>
      </div>

      <div class="container mobile-menu" id="mobileMenu" aria-hidden="true"></div>
    </header>

    <!-- HERO -->
    <section class="hero">
      <div class="container">
        <h1>AJIN News</h1>
        <p>Explore Our Latest News and Press Releases for Company Updates</p>

        <div class="controls">
          <div class="row">
            <input id="q" class="control" placeholder="Search keyword " />
            <select id="year" class="control" title="Filter by year">
              <option value="">All years</option>
              <option>2025</option>
              <option>2024</option>
              <option>2023</option>
            </select>

            <select id="sort" class="control" title="Sort by">
              <option value="date_desc">최신순</option>
              <option value="date_asc">오래된 순</option>
            </select>

            <button id="reset" class="btn">Reset</button>
          </div>
        </div>
      </div>
    </section>

    <!-- NEWS LIST -->
    <main class="news-list">
      <div class="container">
        <div class="list" id="newsList">
          <article class="card" data-year="2024" data-tags="donation, luncheon, community">
            <a href="https://n.news.naver.com/mnews/article/052/0000895325?sid=102" target="_blank" rel="noopener">
              <div class="thumb-wrap"><div class="thumb-ratio"></div>
                <img class="thumb-img" src="images/news5.webp" alt="Community donation luncheon" loading="lazy" />
              </div>
            </a>
            <div class="content">
              <div class="kicker">News</div>
              <h2 class="title"><a href="https://n.news.naver.com/mnews/article/052/0000895325?sid=102" target="_blank" rel="noopener">아진산업 서중호 대표, "사람에 대한 투자가 곧 회사 경쟁력"</a></h2>
              <p class="excerpt">역동적이고 끊임없이 발전하는 아진산업의 중심에는 서중호 대표가 있다...</p>
              <div class="meta"><span class="date-chip">Sep 5, 2025</span><span>•  Naver</span></div>
            </div>
          </article>

          <article class="card" data-year="2025" data-tags="korea, naver, tech">
            <a href="https://n.news.naver.com/mnews/article/030/0003290403?sid=105" target="_blank" rel="noopener">
              <div class="thumb-wrap"><div class="thumb-ratio"></div>
                <img class="thumb-img" src="images/news4.jpg" alt="Naver Tech News" loading="lazy" />
              </div>
            </a>
            <div class="content">
              <div class="kicker">News</div>
              <h2 class="title"><a href="https://n.news.naver.com/mnews/article/030/0003290403?sid=105" target="_blank" rel="noopener">경북대, 아진산업과 AI·빅데이터 인재양성 맞손</a></h2>
              <p class="excerpt">경북대학교(총장 허영우)가 아진산업(대표 서중호)과 손잡고 인공지능(AI)·빅데이터분야 인재양성에 나선다...</p>
              <div class="meta"><span class="date-chip">Sep 5, 2025</span><span>•  Naver</span></div>
            </div>
          </article>

          <article class="card" data-year="2024" data-tags="veterans, event">
            <a href="https://n.news.naver.com/mnews/article/003/0013312273?sid=102" target="_blank" rel="noopener">
              <div class="thumb-wrap"><div class="thumb-ratio"></div>
                <img class="thumb-img" src="images/news1.jpg" alt="Veterans event" loading="lazy" />
              </div>
            </a>
            <div class="content">
              <div class="kicker">News</div>
              <h2 class="title"><a href="https://n.news.naver.com/mnews/article/003/0013312273?sid=102" target="_blank" rel="noopener">아진산업, 경산시에 '사랑의 쌀' 기탁…저소득층 지원</a></h2>
              <p class="excerpt">경북 경산시는 진량읍 소재 아진산업이 저소득 취약계층을 위해 사랑의 쌀 150포(포당 20㎏)를 기탁했다고 19일 밝혔다...</p>
              <div class="meta"><span class="date-chip">Sep 5, 2025</span><span>• Naver</span></div>
            </div>
          </article>

          <article class="card" data-year="2025" data-tags="market, earnings">
            <a href="https://www.etoday.co.kr/news/view/2499452" target="_blank" rel="noopener">
              <div class="thumb-wrap"><div class="thumb-ratio"></div>
                <img class="thumb-img" src="images/news3.png" alt="Community support" loading="lazy" />
              </div>
            </a>
            <div class="content">
              <div class="kicker">News</div>
              <h2 class="title"><a href="https://www.etoday.co.kr/news/view/2499452" target="_blank" rel="noopener">상반기 영업익 급증한 코스닥 상장사 주목…주가 향방은?</a></h2>
              <p class="excerpt">이달 점진적인 상승 흐름을 보이던 아진산업은 깜짝 실적을 발표하면서 주가가 급등했다...</p>
              <div class="meta"><span class="date-chip">Aug 24, 2025</span><span>• 이투데이</span></div>
            </div>
          </article>
        </div>

        <div class="spacer"></div>
        <div id="pager" class="container" style="text-align:center;">
          <button class="btn" id="prev">Prev</button>
          <span class="date-chip" id="pageIndicator" style="margin:0 8px;">Page 1</span>
          <button class="btn" id="next">Next</button>
        </div>
      </div>
    </main>

    <!-- FOOTER -->
    <footer>
      <div class="container">
        <div class="cols">
          <a class="brand" href="index3.html"><img src="images/AJIN_logo_black_background.png" alt="AJIN" /></a>
          <div class="footer-center">
            <div class="small">
              경북경산시 진량읍 신제리 531번지(공단 8로 26길 40) TEL.053-856-9100 · Fax 053-856-9111
              <br />Copyright © AJIN INDUSTRIAL CO.LTD ALL Rights Reserved.
            </div>
          </div>
          <div class="familysite">
            <label for="familySite">Family Site</label>
            <select id="familySite" name="sitelist" aria-label="Family Site">
              <option value="" disabled selected hidden>Family Site</option>
              <option value="#" disabled>------------</option>
              <option value="https://www.wamc.co.kr">Ajin Industrial</option>
              <option value="https://www.wamc.co.kr/wooshin/index.asp">Wooshin Industrial</option>
              <option value="http://www.dwecc.com">DAEWOO</option>
              <option value="https://wooshinusa.com">Wooshin USA</option>
              <option value="https://ajingeorgia.com">AJIN GEORGIA</option>
            </select>
          </div>
        </div>
      </div>
    </footer>

    <script>
      /* Nav */
      const burger = document.getElementById('burger');
      const mobile = document.getElementById('mobileMenu');
      burger?.addEventListener('click', () => {
        const open = mobile.classList.toggle('open');
        burger.setAttribute('aria-expanded', String(open));
        mobile.setAttribute('aria-hidden', String(!open));
      });
      document.querySelectorAll('.nav-menu .has-sub > a').forEach(link => {
        link.addEventListener('click', (e) => {
          const li = link.parentElement;
          const isOpen = li.classList.contains('open');
          if (!isOpen) {
            e.preventDefault();
            li.classList.add('open');
            link.setAttribute('aria-expanded', 'true');
            li.parentElement.querySelectorAll('.has-sub.open').forEach(sib => {
              if (sib !== li) { sib.classList.remove('open'); sib.querySelector('a')?.setAttribute('aria-expanded', 'false'); }
            });
          } else {
            link.setAttribute('aria-expanded', 'false');
          }
        });
      });
      document.addEventListener('click', (e) => {
        if (!e.target.closest('.nav-menu')) {
          document.querySelectorAll('.nav-menu .has-sub.open').forEach(li => {
            li.classList.remove('open'); li.querySelector('a')?.setAttribute('aria-expanded', 'false');
          });
        }
      });

      /* Controls */
      const q = document.getElementById('q');
      const year = document.getElementById('year');
      const sortSel = document.getElementById('sort');
      const reset = document.getElementById('reset');
      const list = document.getElementById('newsList');

      const DEFAULT_RT_QUERY = '아진산업 OR AJIN INDUSTRIAL OR 아진지오 OR 아진지아'; /* keep single declaration */
      const PAGE_SIZE = 8;

      let allItems = [];
      let filteredItems = [];
      let currentPage = 1;

      const pageIndicator = document.getElementById('pageIndicator');
      const prevBtn = document.getElementById('prev');
      const nextBtn = document.getElementById('next');

      /* Utils */
      function formatDateChip(dt) {
        const d = new Date(dt);
        if (isNaN(d.getTime())) return '';
        const opts = { month: 'short', day: 'numeric', year: 'numeric' };
        return d.toLocaleDateString('en-US', opts);
      }
      function stripTags(html) {
        const tmp = document.createElement('div');
        tmp.innerHTML = (html || '').replace(/&quot;/g, '"').replace(/&apos;/g, "'").replace(/&amp;/g, '&');
        return tmp.textContent || tmp.innerText || '';
      }

      /* Card rendering */
      function createNewsCard({ title, description, link, pubDate, image, source }) {
        const art = document.createElement('article');
        art.className = 'card';
        art.setAttribute('data-year', new Date(pubDate).getFullYear());
        art.setAttribute('data-tags', 'google, dynamic');

        art.innerHTML = `
          <a href="${link}" target="_blank" rel="noopener" aria-label="${title}">
            <div class="thumb-wrap">
              <div class="thumb-ratio"></div>
              <img class="thumb-img" src="${image || 'images/news-fallback.jpg'}" alt="${title}" loading="lazy" />
            </div>
          </a>
          <div class="content">
            <div class="kicker">News</div>
            <h2 class="title"><a href="${link}" target="_blank" rel="noopener">${title}</a></h2>
            <p class="excerpt">${description || ''}</p>
            <div class="meta">
              <span class="date-chip">${formatDateChip(pubDate)}</span>
              <span>• Source: ${source || 'Google News'}</span>
            </div>
          </div>
        `;
        return art;
      }

      function renderPage(page=1) {
        const total = filteredItems.length;
        const pages = Math.max(1, Math.ceil(total / PAGE_SIZE));
        currentPage = Math.min(Math.max(1, page), pages);

        const start = (currentPage - 1) * PAGE_SIZE;
        const slice = filteredItems.slice(start, start + PAGE_SIZE);

        list.innerHTML = '';
        slice.forEach(it => list.appendChild(createNewsCard(it)));

        pageIndicator.textContent = `Page ${currentPage} / ${pages}`;
        prevBtn.disabled = currentPage <= 1;
        nextBtn.disabled = currentPage >= pages;
      }

      /* Filter & Sort */
      function applyFiltersAndSort() {
        const kw = (q.value || '').toLowerCase().trim();
        const yr = year.value;
        const sortBy = sortSel.value;

        filteredItems = allItems.filter(it => {
          const okYr = !yr || String(new Date(it.pubDate).getFullYear()) === yr;
          const text = (it.title + ' ' + (it.description || '') + ' ' + (it.source || '')).toLowerCase();
          const okKw = !kw || text.includes(kw);
          return okYr && okKw;
        });

        if (sortBy === 'date_asc') {
          filteredItems.sort((a, b) => new Date(a.pubDate) - new Date(b.pubDate));
        } else {
          filteredItems.sort((a, b) => new Date(b.pubDate) - new Date(a.pubDate));
        }
      }

      q?.addEventListener('input', () => { applyFiltersAndSort(); renderPage(1); });
      year?.addEventListener('change', () => { applyFiltersAndSort(); renderPage(1); });
      sortSel?.addEventListener('change', () => { applyFiltersAndSort(); renderPage(1); });
      reset?.addEventListener('click', () => { q.value=''; year.value=''; sortSel.value='date_desc'; applyFiltersAndSort(); renderPage(1); });

      document.querySelectorAll('.thumb-img').forEach(img => img.addEventListener('error', () => console.warn('[thumb-img] failed:', img.src)));

      /* Family Site */
      let fsBusy = false;
      const fs = document.getElementById('familySite');
      function openInNewTab(url) {
        const a = document.createElement('a');
        a.href = url; a.target = '_blank'; a.rel = 'noopener'; a.style.display = 'none';
        document.body.appendChild(a); a.click(); a.remove();
        const win = window.open('', '_blank');
        if (win && win.location === 'about:blank') { win.location = url; try { win.opener = null; } catch (_) {} }
      }
      fs?.addEventListener('change', (e) => {
        if (fsBusy) return;
        const url = (e.target.value || '').trim();
        if (!url || url === '#') return;
        fsBusy = true; openInNewTab(url);
        setTimeout(() => { e.target.selectedIndex = 0; fsBusy = false; }, 300);
      });

      /* Google News RSS */
      async function fetchFromGoogleNewsRSS(query) {
        const qInput = document.getElementById('q');
        const mergedQuery = [query, qInput?.value].filter(Boolean).join(' ').trim() || DEFAULT_RT_QUERY;
        const rssURL = `https://news.google.com/rss/search?q=${encodeURIComponent(mergedQuery)}&hl=ko&gl=KR&ceid=KR:ko`;

        const res = await fetch(rssURL);
        if (!res.ok) throw new Error(`GOOGLE_RSS_ERROR ${res.status}`);
        const xml = await res.text();

        const doc = new DOMParser().parseFromString(xml, 'application/xml');
        const items = Array.from(doc.querySelectorAll('item')).map((el) => {
          const title = el.querySelector('title')?.textContent || '';
          const theLink = el.querySelector('link')?.textContent || '#'; /* FIXED: 선언 추가 */
          const desc = el.querySelector('description')?.textContent || '';
          const pubDate = el.querySelector('pubDate')?.textContent || new Date().toUTCString();
          const source = el.querySelector('source')?.textContent || 'Google News';
          return {
            title: stripTags(title),
            description: stripTags(desc),
            link: theLink,
            pubDate: new Date(pubDate).toISOString(),
            image: null,
            source,
          };
        });

        items.sort((a, b) => new Date(b.pubDate) - new Date(a.pubDate));
        return items;
      }

      /* Static → items 모델화 */
      function collectStaticNewsAsItems() {
        return Array.from(document.querySelectorAll('#newsList article.card')).map(card => {
          const title = card.querySelector('.title')?.innerText?.trim() || '';
          const link = card.querySelector('.title a')?.href || '';
          const description = card.querySelector('.excerpt')?.innerText?.trim() || '';
          const dateText = card.querySelector('.date-chip')?.innerText || '';
          const pubDate = dateText ? new Date(dateText).toISOString() : new Date().toISOString();
          const sourceText = (card.querySelector('.meta')?.innerText || '').split('•').pop()?.trim();
          const img = card.querySelector('.thumb-img')?.src || 'images/news-fallback.jpg';
          return { title, description, link, pubDate, source: sourceText || 'Static', image: img };
        });
      }

      /* Init: static + RSS merge */
      async function init() {
        try {
          const staticItems = collectStaticNewsAsItems();
          const rssItems = await fetchFromGoogleNewsRSS(DEFAULT_RT_QUERY);

          const map = new Map();
          [...rssItems, ...staticItems].forEach(it => {
            if (!map.has(it.link)) map.set(it.link, it);
          });

          allItems = Array.from(map.values());
          applyFiltersAndSort();
          renderPage(1);
        } catch (e) {
          console.error(e);
          allItems = collectStaticNewsAsItems();
          applyFiltersAndSort();
          renderPage(1);
        }
      }

      /* Pager */
      prevBtn?.addEventListener('click', () => { renderPage(currentPage - 1); });
      nextBtn?.addEventListener('click', () => { renderPage(currentPage + 1); });

      /* go */
      init();
    </script>
  </body>
</html>
